(()=>{var t={9662:(t,e,r)=>{var n=r(614),o=r(6330),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a function")}},9483:(t,e,r)=>{var n=r(4411),o=r(6330),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a constructor")}},6077:(t,e,r)=>{var n=r(614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},1223:(t,e,r)=>{var n=r(5112),o=r(30),i=r(3070).f,s=n("unscopables"),a=Array.prototype;null==a[s]&&i(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},9670:(t,e,r)=>{var n=r(111),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not an object")}},1285:(t,e,r)=>{"use strict";var n=r(7908),o=r(1400),i=r(6244);t.exports=function(t){for(var e=n(this),r=i(e),s=arguments.length,a=o(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,u=void 0===c?r:o(c,r);u>a;)e[a++]=t;return e}},8533:(t,e,r)=>{"use strict";var n=r(2092).forEach,o=r(9341)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},8457:(t,e,r)=>{"use strict";var n=r(9974),o=r(6916),i=r(7908),s=r(3411),a=r(7659),c=r(4411),u=r(6244),l=r(6135),h=r(4121),f=r(1246),p=Array;t.exports=function(t){var e=i(t),r=c(this),d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y;v&&(y=n(y,d>2?arguments[2]:void 0));var m,g,b,w,S,x,O=f(e),A=0;if(!O||this===p&&a(O))for(m=u(e),g=r?new this(m):p(m);m>A;A++)x=v?y(e[A],A):e[A],l(g,A,x);else for(S=(w=h(e,O)).next,g=r?new this:[];!(b=o(S,w)).done;A++)x=v?s(w,y,[b.value,A],!0):b.value,l(g,A,x);return g.length=A,g}},1318:(t,e,r)=>{var n=r(5656),o=r(1400),i=r(6244),s=function(t){return function(e,r,s){var a,c=n(e),u=i(c),l=o(s,u);if(t&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:(t,e,r)=>{var n=r(9974),o=r(1702),i=r(8361),s=r(7908),a=r(6244),c=r(5417),u=o([].push),l=function(t){var e=1==t,r=2==t,o=3==t,l=4==t,h=6==t,f=7==t,p=5==t||h;return function(d,y,v,m){for(var g,b,w=s(d),S=i(w),x=n(y,v),O=a(S),A=0,E=m||c,k=e?E(d,O):r||f?E(d,0):void 0;O>A;A++)if((p||A in S)&&(b=x(g=S[A],A,w),t))if(e)k[A]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return A;case 2:u(k,g)}else switch(t){case 4:return!1;case 7:u(k,g)}return h?-1:o||l?l:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},1194:(t,e,r)=>{var n=r(7293),o=r(5112),i=r(7392),s=o("species");t.exports=function(t){return i>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,r)=>{"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},3658:(t,e,r)=>{"use strict";var n=r(9781),o=r(3157),i=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(o(t)&&!s(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1589:(t,e,r)=>{var n=r(1400),o=r(6244),i=r(6135),s=Array,a=Math.max;t.exports=function(t,e,r){for(var c=o(t),u=n(e,c),l=n(void 0===r?c:r,c),h=s(a(l-u,0)),f=0;u<l;u++,f++)i(h,f,t[u]);return h.length=f,h}},206:(t,e,r)=>{var n=r(1702);t.exports=n([].slice)},7475:(t,e,r)=>{var n=r(3157),o=r(4411),i=r(111),s=r(5112)("species"),a=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(o(e)&&(e===a||n(e.prototype))||i(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?a:e}},5417:(t,e,r)=>{var n=r(7475);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},3411:(t,e,r)=>{var n=r(9670),o=r(9212);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){o(t,"throw",e)}}},7072:(t,e,r)=>{var n=r(5112)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},4326:(t,e,r)=>{var n=r(1702),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},648:(t,e,r)=>{var n=r(1694),o=r(614),i=r(4326),s=r(5112)("toStringTag"),a=Object,c="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?r:c?i(e):"Object"==(n=i(e))&&o(e.callee)?"Arguments":n}},9920:(t,e,r)=>{var n=r(2597),o=r(3887),i=r(1236),s=r(3070);t.exports=function(t,e,r){for(var a=o(e),c=s.f,u=i.f,l=0;l<a.length;l++){var h=a[l];n(t,h)||r&&n(r,h)||c(t,h,u(e,h))}}},4964:(t,e,r)=>{var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,r)=>{"use strict";var n=r(4948),o=r(3070),i=r(9114);t.exports=function(t,e,r){var s=n(e);s in t?o.f(t,s,i(0,r)):t[s]=r}},7045:(t,e,r)=>{var n=r(6339),o=r(3070);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},8052:(t,e,r)=>{var n=r(614),o=r(3070),i=r(6339),s=r(3072);t.exports=function(t,e,r,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:e;if(n(r)&&i(r,u,a),a.global)c?t[e]=r:s(e,r);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:(t,e,r)=>{var n=r(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},5117:(t,e,r)=>{"use strict";var n=r(6330),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+n(e)+" of "+n(t))}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),o=r(111),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(t,e,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,o,i=r(7854),s=r(8113),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),s=r(8052),a=r(3072),c=r(9920),u=r(4705);t.exports=function(t,e){var r,l,h,f,p,d=t.target,y=t.global,v=t.stat;if(r=y?n:v?n[d]||a(d,{}):(n[d]||{}).prototype)for(l in e){if(f=e[l],h=t.dontCallGetSet?(p=o(r,l))&&p.value:r[l],!u(y?l:d+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&i(f,"sham",!0),s(r,l,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,r)=>{var n=r(4374),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},9974:(t,e,r)=>{var n=r(1702),o=r(9662),i=r(4374),s=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},4374:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7065:(t,e,r)=>{"use strict";var n=r(1702),o=r(9662),i=r(111),s=r(2597),a=r(206),c=r(4374),u=Function,l=n([].concat),h=n([].join),f={},p=function(t,e,r){if(!s(f,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";f[e]=u("C,a","return new C("+h(n,",")+")")}return f[e](t,r)};t.exports=c?u.bind:function(t){var e=o(this),r=e.prototype,n=a(arguments,1),s=function(){var r=l(n,a(arguments));return this instanceof s?p(e,r.length,r):e.apply(t,r)};return i(r)&&(s.prototype=r),s}},6916:(t,e,r)=>{var n=r(4374),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:(t,e,r)=>{var n=r(9781),o=r(2597),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1702:(t,e,r)=>{var n=r(4374),o=Function.prototype,i=o.bind,s=o.call,a=n&&i.bind(s,s);t.exports=n?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),o=r(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t]):n[t]&&n[t][e]}},1246:(t,e,r)=>{var n=r(648),o=r(8173),i=r(8554),s=r(7497),a=r(5112)("iterator");t.exports=function(t){if(!i(t))return o(t,a)||o(t,"@@iterator")||s[n(t)]}},4121:(t,e,r)=>{var n=r(6916),o=r(9662),i=r(9670),s=r(6330),a=r(1246),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(o(r))return i(n(r,t));throw c(s(t)+" is not iterable")}},8173:(t,e,r)=>{var n=r(9662),o=r(8554);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:t=>{t.exports={}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(1702),o=r(7293),i=r(4326),s=Object,a=n("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a(t,""):s(t)}:s},2788:(t,e,r)=>{var n=r(1702),o=r(614),i=r(5465),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},9909:(t,e,r)=>{var n,o,i,s=r(4811),a=r(7854),c=r(1702),u=r(111),l=r(8880),h=r(2597),f=r(5465),p=r(6200),d=r(3501),y="Object already initialized",v=a.TypeError,m=a.WeakMap;if(s||f.state){var g=f.state||(f.state=new m),b=c(g.get),w=c(g.has),S=c(g.set);n=function(t,e){if(w(g,t))throw v(y);return e.facade=t,S(g,t,e),e},o=function(t){return b(g,t)||{}},i=function(t){return w(g,t)}}else{var x=p("state");d[x]=!0,n=function(t,e){if(h(t,x))throw v(y);return e.facade=t,l(t,x,e),e},o=function(t){return h(t,x)?t[x]:{}},i=function(t){return h(t,x)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return r}}}},7659:(t,e,r)=>{var n=r(5112),o=r(7497),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:t=>{t.exports=function(t){return"function"==typeof t}},4411:(t,e,r)=>{var n=r(1702),o=r(7293),i=r(614),s=r(648),a=r(5005),c=r(2788),u=function(){},l=[],h=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=n(f.exec),d=!f.exec(u),y=function(t){if(!i(t))return!1;try{return h(u,l,t),!0}catch(t){return!1}},v=function(t){if(!i(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!p(f,c(t))}catch(t){return!0}};v.sham=!0,t.exports=!h||o((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?v:y},4705:(t,e,r)=>{var n=r(7293),o=r(614),i=/#|\.prototype\./,s=function(t,e){var r=c[a(t)];return r==l||r!=u&&(o(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,r)=>{var n=r(614),o="object"==typeof document&&document.all,i=void 0===o&&void 0!==o;t.exports=i?function(t){return"object"==typeof t?null!==t:n(t)||t===o}:function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},7850:(t,e,r)=>{var n=r(111),o=r(4326),i=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},2190:(t,e,r)=>{var n=r(5005),o=r(614),i=r(7976),s=r(3307),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,a(t))}},9212:(t,e,r)=>{var n=r(6916),o=r(9670),i=r(8173);t.exports=function(t,e,r){var s,a;o(t);try{if(!(s=i(t,"return"))){if("throw"===e)throw r;return r}s=n(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw r;if(a)throw s;return o(s),r}},3061:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),s=r(8003),a=r(7497),c=function(){return this};t.exports=function(t,e,r,u){var l=e+" Iterator";return t.prototype=o(n,{next:i(+!u,r)}),s(t,l,!1,!0),a[l]=c,t}},1656:(t,e,r)=>{"use strict";var n=r(2109),o=r(6916),i=r(1913),s=r(6530),a=r(614),c=r(3061),u=r(9518),l=r(7674),h=r(8003),f=r(8880),p=r(8052),d=r(5112),y=r(7497),v=r(3383),m=s.PROPER,g=s.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=d("iterator"),x="keys",O="values",A="entries",E=function(){return this};t.exports=function(t,e,r,s,d,v,k){c(r,e,s);var C,T,j,I=function(t){if(t===d&&B)return B;if(!w&&t in _)return _[t];switch(t){case x:case O:case A:return function(){return new r(this,t)}}return function(){return new r(this)}},P=e+" Iterator",R=!1,_=t.prototype,L=_[S]||_["@@iterator"]||d&&_[d],B=!w&&L||I(d),N="Array"==e&&_.entries||L;if(N&&(C=u(N.call(new t)))!==Object.prototype&&C.next&&(i||u(C)===b||(l?l(C,b):a(C[S])||p(C,S,E)),h(C,P,!0,!0),i&&(y[P]=E)),m&&d==O&&L&&L.name!==O&&(!i&&g?f(_,"name",O):(R=!0,B=function(){return o(L,this)})),d)if(T={values:I(O),keys:v?B:I(x),entries:I(A)},k)for(j in T)(w||R||!(j in _))&&p(_,j,T[j]);else n({target:e,proto:!0,forced:w||R},T);return i&&!k||_[S]===B||p(_,S,B,{name:d}),y[e]=B,T}},3383:(t,e,r)=>{"use strict";var n,o,i,s=r(7293),a=r(614),c=r(111),u=r(30),l=r(9518),h=r(8052),f=r(5112),p=r(1913),d=f("iterator"),y=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):y=!0),!c(n)||s((function(){var t={};return n[d].call(t)!==t}))?n={}:p&&(n=u(n)),a(n[d])||h(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},7497:t=>{t.exports={}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},6339:(t,e,r)=>{var n=r(7293),o=r(614),i=r(2597),s=r(9781),a=r(6530).CONFIGURABLE,c=r(2788),u=r(9909),l=u.enforce,h=u.get,f=Object.defineProperty,p=s&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),d=String(String).split("String"),y=t.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||a&&t.name!==e)&&(s?f(t,"name",{value:e,configurable:!0}):t.name=e),p&&r&&i(r,"arity")&&t.length!==r.arity&&f(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?s&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=l(t);return i(n,"source")||(n.source=d.join("string"==typeof e?e:"")),t};Function.prototype.toString=y((function(){return o(this)&&h(this).source||c(this)}),"toString")},4758:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},3929:(t,e,r)=>{var n=r(7850),o=TypeError;t.exports=function(t){if(n(t))throw o("The method doesn't accept regular expressions");return t}},30:(t,e,r)=>{var n,o=r(9670),i=r(6048),s=r(748),a=r(3501),c=r(490),u=r(317),l=r(6200),h=l("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"</"+"script>"},d=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;y="undefined"!=typeof document?document.domain&&n?d(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):d(n);for(var r=s.length;r--;)delete y.prototype[s[r]];return y()};a[h]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=o(t),r=new f,f.prototype=null,r[h]=t):r=y(),void 0===e?r:i.f(r,e)}},6048:(t,e,r)=>{var n=r(9781),o=r(3353),i=r(3070),s=r(9670),a=r(5656),c=r(1956);e.f=n&&!o?Object.defineProperties:function(t,e){s(t);for(var r,n=a(e),o=c(e),u=o.length,l=0;u>l;)i.f(t,r=o[l++],n[r]);return t}},3070:(t,e,r)=>{var n=r(9781),o=r(4664),i=r(3353),s=r(9670),a=r(4948),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",p="writable";e.f=n?i?function(t,e,r){if(s(t),e=a(e),s(r),"function"==typeof t&&"prototype"===e&&"value"in r&&p in r&&!r.writable){var n=l(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:f in r?r.configurable:n.configurable,enumerable:h in r?r.enumerable:n.enumerable,writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(s(t),e=a(e),s(r),o)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),o=r(6916),i=r(5296),s=r(9114),a=r(5656),c=r(4948),u=r(2597),l=r(4664),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return s(!o(i.f,t,e),t[e])}},1156:(t,e,r)=>{var n=r(4326),o=r(5656),i=r(8006).f,s=r(1589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==n(t)?function(t){try{return i(t)}catch(t){return s(a)}}(t):i(o(t))}},8006:(t,e,r)=>{var n=r(6324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(2597),o=r(614),i=r(7908),s=r(6200),a=r(8544),c=s("IE_PROTO"),u=Object,l=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=i(t);if(n(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},7976:(t,e,r)=>{var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),o=r(2597),i=r(5656),s=r(1318).indexOf,a=r(3501),c=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,l=[];for(r in n)!o(a,r)&&o(n,r)&&c(l,r);for(;e.length>u;)o(n,r=e[u++])&&(~s(l,r)||c(l,r));return l}},1956:(t,e,r)=>{var n=r(6324),o=r(748);t.exports=Object.keys||function(t){return n(t,o)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(1702),o=r(9670),i=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},4699:(t,e,r)=>{var n=r(9781),o=r(1702),i=r(1956),s=r(5656),a=o(r(5296).f),c=o([].push),u=function(t){return function(e){for(var r,o=s(e),u=i(o),l=u.length,h=0,f=[];l>h;)r=u[h++],n&&!a(o,r)||c(f,t?[r,o[r]]:o[r]);return f}};t.exports={entries:u(!0),values:u(!1)}},288:(t,e,r)=>{"use strict";var n=r(1694),o=r(648);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},2140:(t,e,r)=>{var n=r(6916),o=r(614),i=r(111),s=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&o(r=t.toString)&&!i(a=n(r,t)))return a;if(o(r=t.valueOf)&&!i(a=n(r,t)))return a;if("string"!==e&&o(r=t.toString)&&!i(a=n(r,t)))return a;throw s("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),o=r(1702),i=r(8006),s=r(5181),a=r(9670),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=s.f;return r?c(e,r(t)):e}},857:(t,e,r)=>{var n=r(7854);t.exports=n},2261:(t,e,r)=>{"use strict";var n,o,i=r(6916),s=r(1702),a=r(1340),c=r(7066),u=r(2999),l=r(2309),h=r(30),f=r(9909).get,p=r(9441),d=r(7168),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,g=s("".charAt),b=s("".indexOf),w=s("".replace),S=s("".slice),x=(o=/b*/g,i(v,n=/a/,"a"),i(v,o,"a"),0!==n.lastIndex||0!==o.lastIndex),O=u.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(x||A||O||p||d)&&(m=function(t){var e,r,n,o,s,u,l,p=this,d=f(p),E=a(t),k=d.raw;if(k)return k.lastIndex=p.lastIndex,e=i(m,k,E),p.lastIndex=k.lastIndex,e;var C=d.groups,T=O&&p.sticky,j=i(c,p),I=p.source,P=0,R=E;if(T&&(j=w(j,"y",""),-1===b(j,"g")&&(j+="g"),R=S(E,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(E,p.lastIndex-1))&&(I="(?: "+I+")",R=" "+R,P++),r=new RegExp("^(?:"+I+")",j)),A&&(r=new RegExp("^"+I+"$(?!\\s)",j)),x&&(n=p.lastIndex),o=i(v,T?r:p,R),T?o?(o.input=S(o.input,P),o[0]=S(o[0],P),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:x&&o&&(p.lastIndex=p.global?o.index+o[0].length:n),A&&o&&o.length>1&&i(y,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&C)for(o.groups=u=h(null),s=0;s<C.length;s++)u[(l=C[s])[0]]=o[l[1]];return o}),t.exports=m},7066:(t,e,r)=>{"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4706:(t,e,r)=>{var n=r(6916),o=r(2597),i=r(7976),s=r(7066),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||o(t,"flags")||!i(a,t)?e:n(s,t)}},2999:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp,i=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=i||n((function(){return!o("a","y").sticky})),a=i||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},9441:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:(t,e,r)=>{var n=r(8554),o=TypeError;t.exports=function(t){if(n(t))throw o("Can't call method on "+t);return t}},8003:(t,e,r)=>{var n=r(3070).f,o=r(2597),i=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,r)=>{var n=r(7854),o=r(3072),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s},2309:(t,e,r)=>{var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})},8710:(t,e,r)=>{var n=r(1702),o=r(9303),i=r(1340),s=r(4488),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(t){return function(e,r){var n,l,h=i(s(e)),f=o(r),p=h.length;return f<0||f>=p?t?"":void 0:(n=c(h,f))<55296||n>56319||f+1===p||(l=c(h,f+1))<56320||l>57343?t?a(h,f):n:t?u(h,f,f+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},6293:(t,e,r)=>{var n=r(7392),o=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},6532:(t,e,r)=>{var n=r(6916),o=r(5005),i=r(5112),s=r(8052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=i("toPrimitive");e&&!e[a]&&s(e,a,(function(t){return n(r,this)}),{arity:1})}},2015:(t,e,r)=>{var n=r(6293);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},1400:(t,e,r)=>{var n=r(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5656:(t,e,r)=>{var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:(t,e,r)=>{var n=r(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},7466:(t,e,r)=>{var n=r(9303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488),o=Object;t.exports=function(t){return o(n(t))}},7593:(t,e,r)=>{var n=r(6916),o=r(111),i=r(2190),s=r(8173),a=r(2140),c=r(5112),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,c=s(t,l);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!o(r)||i(r))return r;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:(t,e,r)=>{var n=r(7593),o=r(2190);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,r)=>{var n=r(648),o=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,r)=>{var n=r(1702),o=0,i=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},3307:(t,e,r)=>{var n=r(6293);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,r)=>{var n=r(9781),o=r(7293);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(t,e,r)=>{var n=r(7854),o=r(614),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},6800:(t,e,r)=>{var n=r(857),o=r(2597),i=r(6061),s=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},6061:(t,e,r)=>{var n=r(5112);e.f=n},5112:(t,e,r)=>{var n=r(7854),o=r(2309),i=r(2597),s=r(9711),a=r(6293),c=r(3307),u=o("wks"),l=n.Symbol,h=l&&l.for,f=c?l:l&&l.withoutSetter||s;t.exports=function(t){if(!i(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&i(l,t)?u[t]=l[t]:u[t]=c&&h?h(e):f(e)}return u[t]}},2222:(t,e,r)=>{"use strict";var n=r(2109),o=r(7293),i=r(3157),s=r(111),a=r(7908),c=r(6244),u=r(7207),l=r(6135),h=r(5417),f=r(1194),p=r(5112),d=r(7392),y=p("isConcatSpreadable"),v=d>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),m=f("concat"),g=function(t){if(!s(t))return!1;var e=t[y];return void 0!==e?!!e:i(t)};n({target:"Array",proto:!0,arity:1,forced:!v||!m},{concat:function(t){var e,r,n,o,i,s=a(this),f=h(s,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(g(i=-1===e?s:arguments[e]))for(o=c(i),u(p+o),r=0;r<o;r++,p++)r in i&&l(f,p,i[r]);else u(p+1),l(f,p++,i);return f.length=p,f}})},3290:(t,e,r)=>{var n=r(2109),o=r(1285),i=r(1223);n({target:"Array",proto:!0},{fill:o}),i("fill")},7327:(t,e,r)=>{"use strict";var n=r(2109),o=r(2092).filter;n({target:"Array",proto:!0,forced:!r(1194)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:(t,e,r)=>{var n=r(2109),o=r(8457);n({target:"Array",stat:!0,forced:!r(7072)((function(t){Array.from(t)}))},{from:o})},6699:(t,e,r)=>{"use strict";var n=r(2109),o=r(1318).includes,i=r(7293),s=r(1223);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},6992:(t,e,r)=>{"use strict";var n=r(5656),o=r(1223),i=r(7497),s=r(9909),a=r(3070).f,c=r(1656),u=r(1913),l=r(9781),h="Array Iterator",f=s.set,p=s.getterFor(h);t.exports=c(Array,"Array",(function(t,e){f(this,{type:h,target:n(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var d=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==d.name)try{a(d,"name",{value:"values"})}catch(t){}},9600:(t,e,r)=>{"use strict";var n=r(2109),o=r(1702),i=r(8361),s=r(5656),a=r(9341),c=o([].join),u=i!=Object,l=a("join",",");n({target:"Array",proto:!0,forced:u||!l},{join:function(t){return c(s(this),void 0===t?",":t)}})},1249:(t,e,r)=>{"use strict";var n=r(2109),o=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:(t,e,r)=>{"use strict";var n=r(2109),o=r(3157),i=r(4411),s=r(111),a=r(1400),c=r(6244),u=r(5656),l=r(6135),h=r(5112),f=r(1194),p=r(206),d=f("slice"),y=h("species"),v=Array,m=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var r,n,h,f=u(this),d=c(f),g=a(t,d),b=a(void 0===e?d:e,d);if(o(f)&&(r=f.constructor,(i(r)&&(r===v||o(r.prototype))||s(r)&&null===(r=r[y]))&&(r=void 0),r===v||void 0===r))return p(f,g,b);for(n=new(void 0===r?v:r)(m(b-g,0)),h=0;g<b;g++,h++)g in f&&l(n,h,f[g]);return n.length=h,n}})},561:(t,e,r)=>{"use strict";var n=r(2109),o=r(7908),i=r(1400),s=r(9303),a=r(6244),c=r(3658),u=r(7207),l=r(5417),h=r(6135),f=r(5117),p=r(1194)("splice"),d=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var r,n,p,v,m,g,b=o(this),w=a(b),S=i(t,w),x=arguments.length;for(0===x?r=n=0:1===x?(r=0,n=w-S):(r=x-2,n=y(d(s(e),0),w-S)),u(w+r-n),p=l(b,n),v=0;v<n;v++)(m=S+v)in b&&h(p,v,b[m]);if(p.length=n,r<n){for(v=S;v<w-n;v++)g=v+r,(m=v+n)in b?b[g]=b[m]:f(b,g);for(v=w;v>w-n+r;v--)f(b,v-1)}else if(r>n)for(v=w-n;v>S;v--)g=v+r-1,(m=v+n-1)in b?b[g]=b[m]:f(b,g);for(v=0;v<r;v++)b[v+S]=arguments[v+2];return c(b,w-n+r),p}})},8309:(t,e,r)=>{var n=r(9781),o=r(6530).EXISTS,i=r(1702),s=r(3070).f,a=Function.prototype,c=i(a.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(u.exec);n&&!o&&s(a,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},8862:(t,e,r)=>{var n=r(2109),o=r(5005),i=r(2104),s=r(6916),a=r(1702),c=r(7293),u=r(3157),l=r(614),h=r(111),f=r(2190),p=r(206),d=r(6293),y=o("JSON","stringify"),v=a(/./.exec),m=a("".charAt),g=a("".charCodeAt),b=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,A=!d||c((function(){var t=o("Symbol")();return"[null]"!=y([t])||"{}"!=y({a:t})||"{}"!=y(Object(t))})),E=c((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),k=function(t,e){var r=p(arguments),n=e;if((h(e)||void 0!==t)&&!f(t))return u(e)||(e=function(t,e){if(l(n)&&(e=s(n,this,t,e)),!f(e))return e}),r[1]=e,i(y,null,r)},C=function(t,e,r){var n=m(r,e-1),o=m(r,e+1);return v(x,t)&&!v(O,o)||v(O,t)&&!v(x,n)?"\\u"+w(g(t,0),16):t};y&&n({target:"JSON",stat:!0,arity:3,forced:A||E},{stringify:function(t,e,r){var n=p(arguments),o=i(A?k:y,null,n);return E&&"string"==typeof o?b(o,S,C):o}})},3689:(t,e,r)=>{r(2109)({target:"Math",stat:!0},{trunc:r(4758)})},9720:(t,e,r)=>{var n=r(2109),o=r(4699).entries;n({target:"Object",stat:!0},{entries:function(t){return o(t)}})},9660:(t,e,r)=>{var n=r(2109),o=r(6293),i=r(7293),s=r(5181),a=r(7908);n({target:"Object",stat:!0,forced:!o||i((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},489:(t,e,r)=>{var n=r(2109),o=r(7293),i=r(7908),s=r(9518),a=r(8544);n({target:"Object",stat:!0,forced:o((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(i(t))}})},8304:(t,e,r)=>{r(2109)({target:"Object",stat:!0},{setPrototypeOf:r(7674)})},1539:(t,e,r)=>{var n=r(1694),o=r(8052),i=r(288);n||o(Object.prototype,"toString",i,{unsafe:!0})},2419:(t,e,r)=>{var n=r(2109),o=r(5005),i=r(2104),s=r(7065),a=r(9483),c=r(9670),u=r(111),l=r(30),h=r(7293),f=o("Reflect","construct"),p=Object.prototype,d=[].push,y=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),v=!h((function(){f((function(){}))})),m=y||v;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){a(t),c(e);var r=arguments.length<3?t:a(arguments[2]);if(v&&!y)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return i(d,n,e),new(i(s,t,n))}var o=r.prototype,h=l(u(o)?o:p),m=i(t,h,e);return u(m)?m:h}})},4916:(t,e,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},2087:(t,e,r)=>{var n=r(7854),o=r(9781),i=r(7045),s=r(7066),a=r(7293),c=n.RegExp,u=c.prototype;o&&a((function(){var t=!0;try{c(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",o=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(i.hasIndices="d"),i)o(s,i[s]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(e)!==n||r!==n}))&&i(u,"flags",{configurable:!0,get:s})},9714:(t,e,r)=>{"use strict";var n=r(6530).PROPER,o=r(8052),i=r(9670),s=r(1340),a=r(7293),c=r(4706),u="toString",l=RegExp.prototype.toString,h=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=n&&l.name!=u;(h||f)&&o(RegExp.prototype,u,(function(){var t=i(this);return"/"+s(t.source)+"/"+s(c(t))}),{unsafe:!0})},2023:(t,e,r)=>{"use strict";var n=r(2109),o=r(1702),i=r(3929),s=r(4488),a=r(1340),c=r(4964),u=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(s(this)),a(i(t)),arguments.length>1?arguments[1]:void 0)}})},8783:(t,e,r)=>{"use strict";var n=r(8710).charAt,o=r(1340),i=r(9909),s=r(1656),a="String Iterator",c=i.set,u=i.getterFor(a);s(String,"String",(function(t){c(this,{type:a,string:o(t),index:0})}),(function(){var t,e=u(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},4032:(t,e,r)=>{"use strict";var n=r(2109),o=r(7854),i=r(6916),s=r(1702),a=r(1913),c=r(9781),u=r(6293),l=r(7293),h=r(2597),f=r(7976),p=r(9670),d=r(5656),y=r(4948),v=r(1340),m=r(9114),g=r(30),b=r(1956),w=r(8006),S=r(1156),x=r(5181),O=r(1236),A=r(3070),E=r(6048),k=r(5296),C=r(8052),T=r(2309),j=r(6200),I=r(3501),P=r(9711),R=r(5112),_=r(6061),L=r(6800),B=r(6532),N=r(8003),M=r(9909),D=r(2092).forEach,V=j("hidden"),F="Symbol",z=M.set,q=M.getterFor(F),U=Object.prototype,W=o.Symbol,$=W&&W.prototype,H=o.TypeError,Y=o.QObject,G=O.f,K=A.f,X=S.f,J=k.f,Z=s([].push),Q=T("symbols"),tt=T("op-symbols"),et=T("wks"),rt=!Y||!Y.prototype||!Y.prototype.findChild,nt=c&&l((function(){return 7!=g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=G(U,e);n&&delete U[e],K(t,e,r),n&&t!==U&&K(U,e,n)}:K,ot=function(t,e){var r=Q[t]=g($);return z(r,{type:F,tag:t,description:e}),c||(r.description=e),r},it=function(t,e,r){t===U&&it(tt,e,r),p(t);var n=y(e);return p(r),h(Q,n)?(r.enumerable?(h(t,V)&&t[V][n]&&(t[V][n]=!1),r=g(r,{enumerable:m(0,!1)})):(h(t,V)||K(t,V,m(1,{})),t[V][n]=!0),nt(t,n,r)):K(t,n,r)},st=function(t,e){p(t);var r=d(e),n=b(r).concat(lt(r));return D(n,(function(e){c&&!i(at,r,e)||it(t,e,r[e])})),t},at=function(t){var e=y(t),r=i(J,this,e);return!(this===U&&h(Q,e)&&!h(tt,e))&&(!(r||!h(this,e)||!h(Q,e)||h(this,V)&&this[V][e])||r)},ct=function(t,e){var r=d(t),n=y(e);if(r!==U||!h(Q,n)||h(tt,n)){var o=G(r,n);return!o||!h(Q,n)||h(r,V)&&r[V][n]||(o.enumerable=!0),o}},ut=function(t){var e=X(d(t)),r=[];return D(e,(function(t){h(Q,t)||h(I,t)||Z(r,t)})),r},lt=function(t){var e=t===U,r=X(e?tt:d(t)),n=[];return D(r,(function(t){!h(Q,t)||e&&!h(U,t)||Z(n,Q[t])})),n};u||(C($=(W=function(){if(f($,this))throw H("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=P(t),r=function(t){this===U&&i(r,tt,t),h(this,V)&&h(this[V],e)&&(this[V][e]=!1),nt(this,e,m(1,t))};return c&&rt&&nt(U,e,{configurable:!0,set:r}),ot(e,t)}).prototype,"toString",(function(){return q(this).tag})),C(W,"withoutSetter",(function(t){return ot(P(t),t)})),k.f=at,A.f=it,E.f=st,O.f=ct,w.f=S.f=ut,x.f=lt,_.f=function(t){return ot(R(t),t)},c&&(K($,"description",{configurable:!0,get:function(){return q(this).description}}),a||C(U,"propertyIsEnumerable",at,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),D(b(et),(function(t){L(t)})),n({target:F,stat:!0,forced:!u},{useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?g(t):st(g(t),e)},defineProperty:it,defineProperties:st,getOwnPropertyDescriptor:ct}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ut}),B(),N(W,F),I[V]=!0},1817:(t,e,r)=>{"use strict";var n=r(2109),o=r(9781),i=r(7854),s=r(1702),a=r(2597),c=r(614),u=r(7976),l=r(1340),h=r(3070).f,f=r(9920),p=i.Symbol,d=p&&p.prototype;if(o&&c(p)&&(!("description"in d)||void 0!==p().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(d,this)?new p(t):void 0===t?p():p(t);return""===t&&(y[e]=!0),e};f(v,p),v.prototype=d,d.constructor=v;var m="Symbol(test)"==String(p("test")),g=s(d.valueOf),b=s(d.toString),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),x=s("".slice);h(d,"description",{configurable:!0,get:function(){var t=g(this);if(a(y,t))return"";var e=b(t),r=m?x(e,7,-1):S(e,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},763:(t,e,r)=>{var n=r(2109),o=r(5005),i=r(2597),s=r(1340),a=r(2309),c=r(2015),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=s(t);if(i(u,e))return u[e];var r=o("Symbol")(e);return u[e]=r,l[r]=e,r}})},2165:(t,e,r)=>{r(6800)("iterator")},2526:(t,e,r)=>{r(4032),r(763),r(6620),r(8862),r(9660)},6620:(t,e,r)=>{var n=r(2109),o=r(2597),i=r(2190),s=r(6330),a=r(2309),c=r(2015),u=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw TypeError(s(t)+" is not a symbol");if(o(u,t))return u[t]}})},4747:(t,e,r)=>{var n=r(7854),o=r(8324),i=r(8509),s=r(8533),a=r(8880),c=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var u in o)o[u]&&c(n[u]&&n[u].prototype);c(i)},3948:(t,e,r)=>{var n=r(7854),o=r(8324),i=r(8509),s=r(6992),a=r(8880),c=r(5112),u=c("iterator"),l=c("toStringTag"),h=s.values,f=function(t,e){if(t){if(t[u]!==h)try{a(t,u,h)}catch(e){t[u]=h}if(t[l]||a(t,l,e),o[e])for(var r in s)if(t[r]!==s[r])try{a(t,r,s[r])}catch(e){t[r]=s[r]}}};for(var p in o)f(n[p]&&n[p].prototype,p);f(i,"DOMTokenList")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t+"../"})(),(()=>{"use strict";var t={};r.r(t),r.d(t,{Decoder:()=>at,Encoder:()=>st,PacketType:()=>it,protocol:()=>ot});var e={};r.r(e),r.d(e,{end:()=>Ve,init:()=>De});r.p,r.p,r.p,r.p,r.p,r.p;const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const o=Object.create(null);Object.keys(n).forEach((t=>{o[n[t]]=t}));const i={type:"error",data:"parser error"},s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,c=(t,e)=>{const r=new FileReader;return r.onload=function(){const t=r.result.split(",")[1];e("b"+t)},r.readAsDataURL(t)},u=({type:t,data:e},r,o)=>{return s&&e instanceof Blob?r?o(e):c(e,o):a&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?r?o(e):c(new Blob([e]),o):o(n[t]+(e||""));var i},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<l.length;t++)h[l.charCodeAt(t)]=t;const f="function"==typeof ArrayBuffer,p=(t,e)=>{if(f){const r=(t=>{let e,r,n,o,i,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);const u=new ArrayBuffer(s),l=new Uint8Array(u);for(e=0;e<a;e+=4)r=h[t.charCodeAt(e)],n=h[t.charCodeAt(e+1)],o=h[t.charCodeAt(e+2)],i=h[t.charCodeAt(e+3)],l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|o>>2,l[c++]=(3&o)<<6|63&i;return u})(t);return d(r,e)}return{base64:!0,data:t}},d=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,y=(t,e)=>{if("string"!=typeof t)return{type:"message",data:d(t,e)};const r=t.charAt(0);if("b"===r)return{type:"message",data:p(t.substring(1),e)};return o[r]?t.length>1?{type:o[r],data:t.substring(1)}:{type:o[r]}:i},v=String.fromCharCode(30);function m(t){if(t)return function(t){for(var e in m.prototype)t[e]=m.prototype[e];return t}(t)}m.prototype.on=m.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},m.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},m.prototype.off=m.prototype.removeListener=m.prototype.removeAllListeners=m.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},m.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,e)}return this},m.prototype.emitReserved=m.prototype.emit,m.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},m.prototype.hasListeners=function(t){return!!this.listeners(t).length};const g="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function b(t,...e){return e.reduce(((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e)),{})}const w=setTimeout,S=clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=w.bind(g),t.clearTimeoutFn=S.bind(g)):(t.setTimeoutFn=setTimeout.bind(g),t.clearTimeoutFn=clearTimeout.bind(g))}class O extends Error{constructor(t,e,r){super(t),this.description=e,this.context=r,this.type="TransportError"}}class A extends m{constructor(t){super(),this.writable=!1,x(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,r){return super.emitReserved("error",new O(t,e,r)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=y(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const E="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),k={};let C,T=0,j=0;function I(t){let e="";do{e=E[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function P(){const t=I(+new Date);return t!==C?(T=0,C=t):t+"."+I(T++)}for(;j<64;j++)k[E[j]]=j;function R(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}let _=!1;try{_="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const L=_;function B(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||L))return new XMLHttpRequest}catch(t){}if(!e)try{return new(g[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function N(){}const M=null!=new B({xdomain:!1}).responseType;class D extends m{constructor(t,e){super(),x(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=b(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new B(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=D.requestsCount++,D.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=N,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete D.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(D.requestsCount=0,D.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",V);else if("function"==typeof addEventListener){addEventListener("onpagehide"in g?"pagehide":"unload",V,!1)}function V(){for(let t in D.requests)D.requests.hasOwnProperty(t)&&D.requests[t].abort()}const F="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),z=g.WebSocket||g.MozWebSocket,q="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const U={websocket:class extends A{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,r=q?{}:b(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=q?new z(t,e,r):e?new z(t,e):new z(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=t[e],n=e===t.length-1;u(r,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}n&&F((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=P()),this.supportsBinary||(t.b64=1);const n=R(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!!z}},polling:class extends A{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let r=location.port;r||(r=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=M&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const r=t.split(v),n=[];for(let t=0;t<r.length;t++){const o=y(r[t],e);if(n.push(o),"error"===o.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const r=t.length,n=new Array(r);let o=0;t.forEach(((t,i)=>{u(t,!1,(t=>{n[i]=t,++o===r&&e(n.join(v))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=P()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const n=R(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new D(this.uri(),t)}doWrite(t,e){const r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},W=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function H(t){const e=t,r=t.indexOf("["),n=t.indexOf("]");-1!=r&&-1!=n&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let o=W.exec(t||""),i={},s=14;for(;s--;)i[$[s]]=o[s]||"";return-1!=r&&-1!=n&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||n.splice(0,1);"/"==e.substr(e.length-1,1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(r[e]=n)})),r}(0,i.query),i}class Y extends m{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=H(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=H(e.host).host),x(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},r=t.split("&");for(let t=0,n=r.length;t<n;t++){let n=r[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new U[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Y.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),r=!1;Y.priorWebsocketSuccess=!1;const n=()=>{r||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!r)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Y.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function o(){r||(r=!0,u(),e.close(),e=null)}const i=t=>{const r=new Error("probe error: "+t);r.transport=e.name,o(),this.emitReserved("upgradeError",r)};function s(){i("transport closed")}function a(){i("socket closed")}function c(t){e&&t.name!==e.name&&o()}const u=()=>{e.removeListener("open",n),e.removeListener("error",i),e.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};e.once("open",n),e.once("error",i),e.once("close",s),this.once("close",a),this.once("upgrading",c),e.open()}onOpen(){if(this.readyState="open",Y.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,r=0;for(let n=0,o=t.length;n<o;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}var e;return this.writeBuffer}write(t,e,r){return this.sendPacket("message",t,e,r),this}send(t,e,r){return this.sendPacket("message",t,e,r),this}sendPacket(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const o={type:t,data:e,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},r=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():t()})):this.upgrading?r():t()),this}onError(t){Y.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let r=0;const n=t.length;for(;r<n;r++)~this.transports.indexOf(t[r])&&e.push(t[r]);return e}}Y.protocol=4;Y.protocol;const G="function"==typeof ArrayBuffer,K=Object.prototype.toString,X="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===K.call(Blob),J="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===K.call(File);function Z(t){return G&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||X&&t instanceof Blob||J&&t instanceof File}function Q(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,r=t.length;e<r;e++)if(Q(t[e]))return!0;return!1}if(Z(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return Q(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&Q(t[e]))return!0;return!1}function tt(t){const e=[],r=t.data,n=t;return n.data=et(r,e),n.attachments=e.length,{packet:n,buffers:e}}function et(t,e){if(!t)return t;if(Z(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=et(t[n],e);return r}if("object"==typeof t&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=et(t[n],e));return r}return t}function rt(t,e){return t.data=nt(t.data,e),t.attachments=void 0,t}function nt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=nt(t[r],e);else if("object"==typeof t)for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=nt(t[r],e));return t}const ot=5;var it;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(it||(it={}));class st{constructor(t){this.replacer=t}encode(t){return t.type!==it.EVENT&&t.type!==it.ACK||!Q(t)?[this.encodeAsString(t)]:(t.type=t.type===it.EVENT?it.BINARY_EVENT:it.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==it.BINARY_EVENT&&t.type!==it.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=tt(t),r=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(r),n}}class at extends m{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===it.BINARY_EVENT||e.type===it.BINARY_ACK?(this.reconstructor=new ct(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Z(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const r={type:Number(t.charAt(0))};if(void 0===it[r.type])throw new Error("unknown packet type "+r.type);if(r.type===it.BINARY_EVENT||r.type===it.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const o=t.substring(n,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(n,e)}else r.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const r=t.charAt(e);if(null==r||Number(r)!=r){--e;break}if(e===t.length)break}r.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!at.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case it.CONNECT:return"object"==typeof e;case it.DISCONNECT:return void 0===e;case it.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case it.EVENT:case it.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case it.ACK:case it.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class ct{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=rt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ut(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const lt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ht extends m{constructor(t,e,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ut(t,"open",this.onopen.bind(this)),ut(t,"packet",this.onpacket.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(lt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const r={type:it.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),r.id=t}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){const r=this.flags.timeout;if(void 0===r)return void(this.acks[t]=e);const n=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(n),e.apply(this,[null,...t])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this.packet({type:it.CONNECT,data:t})})):this.packet({type:it.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case it.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case it.EVENT:case it.BINARY_EVENT:this.onevent(t);break;case it.ACK:case it.BINARY_ACK:this.onack(t);break;case it.DISCONNECT:this.ondisconnect();break;case it.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let r=!1;return function(...n){r||(r=!0,e.packet({type:it.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:it.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const r of e)r.apply(this,t.data)}}}function ft(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ft.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},ft.prototype.reset=function(){this.attempts=0},ft.prototype.setMin=function(t){this.ms=t},ft.prototype.setMax=function(t){this.max=t},ft.prototype.setJitter=function(t){this.jitter=t};class pt extends m{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,x(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ft({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=e;const o=r.parser||t;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Y(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=ut(e,"open",(function(){r.onopen(),t&&t()})),o=ut(e,"error",(e=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",e),t?t(e):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&n();const r=this.setTimeoutFn((()=>{n(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ut(t,"ping",this.onping.bind(this)),ut(t,"data",this.ondata.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this)),ut(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error")}}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let r=this.nsps[t];return r||(r=new ht(this,t,e),this.nsps[t]=r),r}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let r=0;r<e.length;r++)this.engine.write(e[r],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const dt={};function yt(t,e){"object"==typeof t&&(e=t,t=void 0);const r=function(t,e="",r){let n=t;r=r||"undefined"!=typeof location&&location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==r?r.protocol+"//"+t:"https://"+t),n=H(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=r.source,o=r.id,i=r.path,s=dt[o]&&i in dt[o].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||s?a=new pt(n,e):(dt[o]||(dt[o]=new pt(n,e)),a=dt[o]),r.query&&!e.query&&(e.query=r.queryKey),a.socket(r.path,e)}Object.assign(yt,{Manager:pt,Socket:ht,io:yt,connect:yt});r(1249),r(2087),r(3290),r(6699),r(2023),r(1539),r(4747),r(2222),r(9600),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948),r(1038),r(7042),r(8309),r(4916);function vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||gt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){if(t){if("string"==typeof t)return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function St(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xt=function(){function t(e,r){var n=e.position,o=e.palette;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),St(this,"sprite",[document.getElementById("player"),document.getElementById("shadow")]),St(this,"is",{}),St(this,"posInView",[0,0]),St(this,"posInViewCoef",[0,0]),St(this,"lastCoords",[0,0]),this.game=r,this.position=n,this.palette=o,this.selectedColor=o[0],this.ownCells=this.game.ownCells,this.allowedCells=this.game.allowedCells}var e,r,n;return e=t,r=[{key:"updatePosition",value:function(t,e){this.coords&&(this.lastCoords=mt(this.coords)),t&&(this.position=t),e&&(this.lastDirection=e),this.coords=this.game.map.indexToCoords(this.position)}},{key:"updatePosInView",value:function(){this.lastPosInView=mt(this.posInView);for(var t=0;t<=1;t++){var e=this.coords[t],r=[this.game.cols,this.game.rows][t],n=this.game.map.numCellsInView[t],o=(n-1)/2;this.posInView[t]=this.getPosInView(r,n,o,e),this.posInViewCoef[t]=this.getPosInViewCoef(r,o,e)}}},{key:"getPosInView",value:function(t,e,r,n){return n<Math.ceil(r)?n:n>t-r-1?n+e-t:r}},{key:"getPosInViewCoef",value:function(t,e,r){return r<=e?0:r>=t-e-1?1:.5}},{key:"render",value:function(){var t=this.game.flags,e=t.isZooming,r=t.isTranslating,n=r||e?this.game.duration:0;this.setSpritePosition({duration:n}),!r&&this.setSpriteSize()}},{key:"setSpritePosition",value:function(t){var e=this,r=t.duration;this.updateTranslateVector(),this.sprite.forEach((function(t,n){t.style.transitionDuration="".concat(r,"s"),t.style.transform="translate(".concat(e.translateVector,") translate(-").concat(n,"px, -").concat(n,"px)")}))}},{key:"updateTranslateVector",value:function(){var t=this;this.shift=Math.round(this.game.map.cellSize/8),this.translateVector=this.posInView.map((function(e,r){return"".concat(e*t.game.map.cellSize+t.game.map.canvasOrigin[r]+t.shift,"px")})).join(", ")}},{key:"setSpriteSize",value:function(){var t=this,e=this.sprite,r=this.game.map.cellSize;this.shift=Math.round(r/8),e[0].style.width=e[0].style.height="".concat(r-2*this.shift,"px"),e[1].style.width=e[1].style.height="".concat(r-2*this.shift+2,"px"),e.forEach((function(e){return e.style.borderRadius="".concat(t.shift,"px")})),e[0].style.borderWidth="".concat(this.shift,"px"),e[1].style.borderWidth="min(3px,".concat(this.shift/4,"px)")}},{key:"setColor",value:function(t){var e=this.palette,r=vt(this.sprite,1)[0];this.selectedColor=e[t],r.style.background=this.selectedColor}},{key:"stamp",value:function(){var t=this,e=vt(this.sprite,2),r=e[0],n=e[1];r.style.transitionDuration=n.style.transitionDuration="0.1s",r.style.transform=n.style.transform="translate(".concat(this.translateVector,") scale(0.9)"),n.style.boxShadow="0 0 0 #555",setTimeout((function(){r.style.transform="translate(".concat(t.translateVector,") scale(1)"),n.style.transform="translate(".concat(t.translateVector,") translate(-1px, -1px) scale(1)"),n.style.boxShadow="3px 3px 5px #777",r.style.transitionDuration=n.style.transitionDuration="0.2s"}),100)}},{key:"bump",value:function(t){var e=this;if(!this.game.flags.isBumping){this.game.flags.isBumping=!0;var r=vt(this.sprite,2),n=r[0],o=r[1],i="up"==t?[0,-1]:"down"==t?[0,1]:"left"==t?[-1,0]:[1,0],s=i.map((function(t){return"".concat(t*e.shift*1.5,"px")})).join(", "),a=i.map((function(t){return"".concat(1-.1*Math.abs(t))})).join(", ");n.style.transitionDuration=o.style.transitionDuration="0.07s",n.style.transform="translate(".concat(this.translateVector,") translate(").concat(s,") scale(").concat(a,")"),o.style.transform="translate(".concat(this.translateVector,") translate(").concat(s,") translate(-1px, -1px) scale(").concat(a,")"),setTimeout((function(){n.style.transform="translate(".concat(e.translateVector,")"),o.style.transform="translate(".concat(e.translateVector,") translate(-1px, -1px)"),n.style.transitionDuration=o.style.transitionDuration="0.2s",setTimeout((function(){e.game.flags.isBumping=!1}),250)}),70)}}}],r&&wt(e.prototype,r),n&&wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();r(7327),r(8304),r(489),r(2419);function Ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return At(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Ct(t){return function(t){if(Array.isArray(t))return Tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lt(t);if(e){var o=Lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rt(this,r)}}function Rt(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}function Bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(i,t);var e,r,n,o=Pt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Bt(_t(e=o.call(this)),"mincells",7),Bt(_t(e),"startcells",15),Bt(_t(e),"maxcells",36),Bt(_t(e),"offScreenCells",2),Bt(_t(e),"numCellsInView",[0,0]),Bt(_t(e),"viewSize",[0,0]),Bt(_t(e),"scale",{}),Bt(_t(e),"translateCoef",[0,0]),Bt(_t(e),"canvasOrigin",[0,0]),Bt(_t(e),"view",document.getElementById("view")),Bt(_t(e),"canvas",document.querySelectorAll("canvas")),e.game=t,e.rows=e.game.rows,e.cols=e.game.cols,e.playersPositions=e.game.playersPositions,e.gridState=e.game.gridState,e.ctx=Ct(e.canvas).map((function(t){return t.getContext("2d")})),e}return e=i,r=[{key:"setView",value:function(){this.getMainDimension(),this.setViewPosition(),this.setViewSize(),this.updateViewSize()}},{key:"getMainDimension",value:function(){var t=window.innerWidth>=window.innerHeight;this.mainDimension=t?0:1,this.secDimension=t?1:0}},{key:"setViewPosition",value:function(){var t=this.mainDimension;this.view.style[["left","top"][t]]="44.5%",this.view.style[["top","left"][t]]="50%"}},{key:"setViewSize",value:function(){var t=this.mainDimension;this.view.style[["width","height"][t]]="85.5%",this.view.style[["height","width"][t]]="95%"}},{key:"updateViewSize",value:function(){var t=["innerWidth","innerHeight"],e=this.mainDimension,r=this.secDimension;this.viewSize[e]=Math.round(.855*window[t[e]]),this.viewSize[r]=Math.round(.95*window[t[r]])}},{key:"updateCanvasGrid",value:function(){this.updateCellSize(),this.updateSecDimensionNumCells(),this.updateViewCanvasDeltaSize()}},{key:"updateCellSize",value:function(){var t=this.mainDimension;if(this.numCellsInView[t]||(this.numCellsInView[t]=this.startcells),this.cellSize){var e=this.cellSize;this.lastCellSize=e}this.cellSize=Math.round(this.viewSize[t]/this.numCellsInView[t])}},{key:"updateSecDimensionNumCells",value:function(){var t=this.secDimension;this.numCellsInView[t]=Math.round(this.viewSize[t]/this.cellSize)}},{key:"updateViewCanvasDeltaSize",value:function(){var t=this;this.viewCanvasDelta=[0,1].map((function(e){return t.viewSize[e]-t.numCellsInView[e]*t.cellSize}))}},{key:"updateCanvasOrigin",value:function(){var t=this;this.canvasOrigin=this.viewCanvasDelta.map((function(e,r){return e*t.game.player.posInViewCoef[r]}))}},{key:"render",value:function(){!this.game.isTranslating&&this.setCanvasSizeAndPos(),this.translateCanvas({duration:0}),this.renderCells()}},{key:"setCanvasSizeAndPos",value:function(){var t=this.cellSize,e=this.numCellsInView,r=this.offScreenCells;this.canvas.forEach((function(n){n.width=t*(e[0]+2*r),n.height=t*(e[1]+2*r),n.style.top="-".concat(Math.round(r*t),"px"),n.style.left="-".concat(Math.round(r*t),"px")})),this.ctx.forEach((function(t){t.imageSmoothingEnabled=!1}))}},{key:"renderCells",value:function(){var t=this,e=this.game.cell;this.ctx.forEach((function(e){e.clearRect(0,0,t.canvas[1].width,t.canvas[1].height)})),this.game.allowedCells.forEach((function(r){e.renderAllowedCell(r,t.game)})),this.game.playersPositions.forEach((function(r){e.renderPosition(r,t.game)})),this.game.gridState.map((function(t,e){return t?e:null})).filter((function(t){return t})).forEach((function(r){e.renderColor(r,t.game)}))}},{key:"translateCanvas",value:function(t){var e=this,r=t.duration;this.updateTranslateVector(r),this.canvas.forEach((function(t){t.style.transitionDuration="".concat(r,"s"),t.style.transform="translate(".concat(e.translateVector.join(", "),")")}))}},{key:"updateTranslateVector",value:function(t){var e=this;t?this.updateTranslateCoef():this.resetTranslateCoef(),this.translateVector=this.translateCoef.map((function(t,r){return"".concat(t*e.cellSize+e.canvasOrigin[r],"px")}))}},{key:"resetTranslateCoef",value:function(){this.translateCoef[0]=0,this.translateCoef[1]=0}},{key:"updateTranslateCoef",value:function(){var t=this.game.player,e=t.lastCoords,r=t.coords,n=t.lastPosInView,o=t.posInView;this.translateCoef=e.map((function(t,e){return t-r[e]+o[e]-n[e]}))}},{key:"incrementMainNumCells",value:function(t){var e="in"==t?-1:1,r=this.mainDimension;if(!("in"==t&&this.numCellsInView[r]<=this.mincells||"out"==t&&this.numCellsInView[r]>=this.maxcells))return this.numCellsInView[r]+=2*e,!0}},{key:"zoom",value:function(){var t=this;this.updateScaleVector(),this.canvas.forEach((function(e){e.style.transitionDuration="0.19s",e.style.transform="translate(".concat(t.scale.translation.join(", "),") scale(").concat(t.scale.factor,") ")}))}},{key:"updateScaleVector",value:function(){var t=this,e=this.lastCellSize,r=this.cellSize,n=(e-r)*this.offScreenCells;this.scale.factor=Math.round(1e3*r/e)/1e3,this.scale.translation=[0,1].map((function(e,o){var i=t.getScaleTranslation(o,n,r);return"".concat(Math.round(2*i)/2,"px")}))}},{key:"getScaleTranslation",value:function(t,e,r){var n=this.canvasOrigin[t],o=this.game.player.lastPosInView[t];return e+(this.game.player.posInView[t]-o)*r+n}}],r&&jt(e.prototype,r),n&&jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"indexToCoords",value:function(t){var e=t%this.cols;return[e,(t-e)/this.rows]}},{key:"coordsToIndex",value:function(t){var e=Ot(t,2),r=e[0],n=e[1];return this.cols*n+r}},{key:"checkMove",value:function(t,e){var r=Ot(this.indexToCoords(t.position),2),n=r[0],o=r[1];if("left"==e&&0!==n)n--;else if("right"==e&&n!==this.cols-1)n++;else if("up"==e&&0!==o)o--;else{if("down"!=e||o===this.rows-1)return;o++}var i=this.coordsToIndex([n,o]);if(this.isAvailable(i,t))return i}},{key:"isAvailable",value:function(t,e){return e.ownCells.includes(t)||e.allowedCells.includes(t)&&!this.playersPositions.includes(t)&&!this.gridState[t]}}])&&Et(e.prototype,r),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());r(9720);function Mt(t){return function(t){if(Array.isArray(t))return Ft(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||Vt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(t,e){if(t){if("string"==typeof t)return Ft(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(t,e):void 0}}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const zt={update:function(){this.widthIsLarger=window.innerWidth>=window.innerHeight},applyStyles:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];[].concat(r).forEach((function(e){for(var r=e.domEl,n=e.styles,o=0,i=Object.entries(n);o<i.length;o++){var s=Dt(i[o],2),a=s[0],c=s[1];r.style[a]=c[t.widthIsLarger?0:1]}}))},mapStyles:function(t,e){return Mt(t).map((function(t){return{domEl:t,styles:e}}))}};function qt(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ut(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ut(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.colorBtns=document.querySelectorAll(".color"),this.zoomBtns={in:document.getElementById("zoomin"),out:document.getElementById("zoomout")}}var e,r,n;return e=t,(r=[{key:"render",value:function(){var t=document.querySelector("section"),e=document.getElementById("buttons"),r=document.querySelectorAll("#buttons button");zt.applyStyles.apply(zt,[{domEl:t,styles:{flexDirection:["row","column"]}},{domEl:e,styles:{flexFlow:["column","row"],height:["auto","11%"],width:["11%","100%"],float:["right","none"],margin:["auto 0 auto auto","auto auto 0"]}}].concat(qt(zt.mapStyles(r,{height:["10vh","10vw"],width:["10vh","10vw"],margin:[".5vh 0","0 1vw"]})),[{domEl:r[2],styles:{marginTop:["3vh","0"],marginLeft:["0","5vw"]}}]))}},{key:"focusColorBtn",value:function(t){var e=this;this.colorBtns.forEach((function(r,n){e.colorBtns[n].className=n==t?"pressed":""}))}}])&&Wt(e.prototype,r),n&&Wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Gt=function(t,e,r,n){var o=Ht(t.map((function(t){return Math.round(e*t)})),2),i=o[0],s=o[1];r.clearRect(i,s,e,e),n&&(r.fillStyle=n||"red",r.fillRect(i,s,e,e))},Kt=function(t,e,r){var n=r.x,o=r.y,i=r.width,s=r.height,a=r.radius;t.strokeStyle=e,t.lineWidth=a,t.beginPath(),t.moveTo(n+a,o),t.lineTo(n+i-a,o),t.quadraticCurveTo(n+i,o,n+i,o+a),t.lineTo(n+i,o+s-a),t.quadraticCurveTo(n+i,o+s,n+i-a,o+s),t.lineTo(n+a,o+s),t.quadraticCurveTo(n,o+s,n,o+s-a),t.lineTo(n,o+a),t.quadraticCurveTo(n,o,n+a,o),t.closePath(),t.stroke()};function Xt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zt(t,e){var r=e.map,n=r.numCellsInView,o=r.offScreenCells,i=e.player,s=e.map.indexToCoords(t).map((function(t,e){return t-i.coords[e]+i.posInView[e]+o}));if(Qt(s,n,o))return s}var Qt=function(t,e,r){var n=Xt(t,2),o=n[0],i=n[1];return o>-r&&i>-r&&o-1<=e[0]+r&&i-1<=e[1]+r};const te={clear:function(t){var e=Zt(t,this);e&&Gt(e,this.map.cellSize,this.map.ctx[2],null)},renderColor:function(t){var e=Zt(t,this);e&&Gt(e,this.map.cellSize,this.map.ctx[1],"#".concat(this.map.gridState[t]))},renderAllowedCell:function(t){var e=Zt(t,this);e&&Gt(e,this.map.cellSize,this.map.ctx[0],"#e9e9e9")},renderPosition:function(t){var e=Zt(t,this);if(e){var r=Math.round(this.map.cellSize/8);!function(t,e,r,n){var o=t.map((function(t){return Math.round(e*t+1.5*n)})),i=Ht(o,2),s=i[0],a=i[1];Kt(r,"black",{x:s,y:a,width:e-3*n,height:e-3*n,radius:n})}(e,this.map.cellSize,this.map.ctx[2],r)}}};r(561);function ee(){var t=this;this.socket.on("NEW_PLAYER_POSITION",(function(e){t.flags.waitingServerConfirmMove=!1,e!==t.player.position&&t.movePlayer(e)})),this.socket.on("NEW_POSITION",(function(e){var r=e.from,n=e.to;r&&(t.playersPositions.splice(t.playersPositions.indexOf(r),1),t.cell.clear(r,t)),n&&(t.playersPositions.push(n),t.cell.renderPosition(n,t))})),this.socket.on("NEW_FILL",(function(e){var r=e.position,n=e.color;t.gridState[r]=n,t.cell.renderColor(r,t)})),this.socket.on("ALLOWED_CELLS",(function(e){e.forEach((function(e){t.allowedCells.includes(e)||(t.allowedCells.push(e),t.flags.isTranslating||t.cell.renderAllowedCell(e,t))}))})),this.socket.on("CONFIRM_FILL",(function(){t.flags.waitingServerConfirmFill=!1})),this.socket.on("ALERT",(function(t){alert(t)})),this.socket.on("reconnect_attempt",(function(){window.location.reload(!0)})),this.socket.on("error",(function(){window.isReloading||window.location.reload(!0)}))}r(9714);function re(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ne(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var oe=!1;function ie(){var t=this;document.addEventListener("keydown",(function(e){"MetaLeft"!==e.code&&"MetaRight"!==e.code&&"AltLeft"!==e.code&&"AltRight"!==e.code&&"ControlLeft"!==e.code&&"ControlRight"!==e.code?t.flags.isTranslating||t.flags.waitingServerConfirmMove||se.call(t,e):oe=!0})),document.addEventListener("keyup",(function(t){"MetaLeft"!==t.code&&"MetaRight"!==t.code&&"AltLeft"!==t.code&&"AltRight"!==t.code&&"ControlLeft"!==t.code&&"ControlRight"!==t.code||(oe=!1)}))}function se(t){switch(t.code){case"Space":case"Enter":this.fill();break;case"ArrowLeft":this.moveAttempt("left");break;case"ArrowRight":this.moveAttempt("right");break;case"ArrowUp":oe?this.selectColor("prev"):this.moveAttempt("up");break;case"ArrowDown":oe?this.selectColor("next"):this.moveAttempt("down")}}function ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ce(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ue={start:[null,null],delta:[null,null],direction:null,lastDirection:null,limit:80,setOrigin:function(t){this.start[0]=t.touches[0].clientX,this.start[1]=t.touches[0].clientY},setLimit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.limit=t},getDelta:function(t){this.delta[0]=this.start[0]-t.touches[0].clientX,this.delta[1]=this.start[1]-t.touches[0].clientY},getDirection:function(){var t=ae(this.delta,2),e=t[0],r=t[1];Math.abs(e)>Math.abs(r)?this.direction=e>0?"left":"right":this.direction=r>0?"up":"down"},saveDirection:function(){this.lastDirection=this.direction},useLastDir:function(){this.direction=this.lastDirection},isSameDirection:function(){return this.lastDirection===this.direction},isTooSmall:function(){return Math.abs(ue.delta[0])<ue.limit&&Math.abs(ue.delta[1])<ue.limit}},le=function(t,e){e.isTouching=!0,ue.setOrigin(t)},he=function(t,e){e.isTouching=!1,ue.setLimit(),ue.start=[null,null],ue.direction=null,ue.lastDirection=null},fe=function(t,e,r){var n=ue.start,o=ue.lastDirection;if(n[0]&&n[1]&&(ue.getDelta(t),ue.getDirection(),o||ue.saveDirection(),!(e.waitingServerConfirmMove||e.isTranslating||ue.isTooSmall()))){r.moveAttempt(ue.direction),ue.setOrigin(t),ue.setLimit(120),ue.saveDirection();var i=setInterval((function(){!e.waitingServerConfirmMove&&!e.isTranslating&&e.isTouching&&ue.direction&&r.moveAttempt(ue.direction),e.isTouching||clearInterval(i)}),20)}};r(3689);function pe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return de(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ye=400,ve=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now(),i=e.flags,s=e.cellSize,a=Date.now()-o,c=8*a/ye,u=Math.trunc(c),l=Math.round((c-u)*s);me(e,u,r,l,n,s),a<ye?window.requestAnimationFrame((function(){t(e,u,l,o)})):i.fill=!1},me=function(t,e,r,n,o,i){if(e===r)ge(e,[o,n],t);else{ge(r,[o,i],t);for(var s=r+1;s<e;s++)ge(s,[0,i],t);ge(e,[0,n],t)}},ge=function(t,e,r){var n,o=pe(e,2),i=o[0],s=o[1],a=r.x,c=r.y,u=r.ctx,l=r.selectedColor,h=r.cellSize,f=r.lineWidth;if(t<r.numSmallStripes)n=h-f*(t+.5);else{if(!(t<8))return;n=++f*(8-t-.5)}u.lineWidth=f,u.strokeStyle=l,u.beginPath(),u.moveTo(a+i,c+n),u.lineTo(a+s,c+n),u.stroke()};function be(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.duration,o=(Date.now()-r)/1e3;t.flags.fill&&(n+=.015),o>=n?e():window.requestAnimationFrame((function(){be(t,e,r,n)}))}function we(t){return function(t){if(Array.isArray(t))return Oe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||xe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(t,e){if(t){if("string"==typeof t)return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(t,e):void 0}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ae=document.querySelectorAll("#menu p"),Ee=document.getElementById("help"),ke=document.querySelectorAll("#help>div"),Ce=document.querySelector("#help-btn img"),Te={fill:document.getElementById("help-block-fill"),move:document.getElementById("help-block-move"),zoom:document.getElementById("help-block-zoom")},je=document.querySelectorAll("#help svg"),Ie={fill:{mobile:"<h2>Colorier</h2>",desktop:'\n      <h3>Colorier</h3>\n\t  <p>Ou : <span class="key"> Espace </span></p>\n      <p>Pour changer de couleur :</p>\n      <p>Ctrl / Cmd + <span class="key">&#8593;</span>  <span class="key">&#8595;</span></p>\n      '},move:{mobile:'\n      <h3>Se déplacer</h3>\n      <p>Swiper : <span class="key">&#8592;</span> <span class="key">&#8593;</span> <span class="key">&#8594;</span> <span class="key">&#8595;</span></p>\n      ',desktop:'\n      <h3>Se déplacer</h3>\n      <p>Flèches directionnelles </p>\n\t  <p class="arrow-keys"><span class="key left">&#8592;</span> <span class="key up">&#8593;</span> <span class="key right">&#8594;</span> <span class="key down">&#8595;</span></p>\n      '},zoom:{mobile:"\n    \t<h2>Zoomer / dézoomer </h2>\n    ",desktop:"\n    \t<h2>Zoomer / dézoomer </h2>\n      "}},Pe={init:function(){for(var t=0,e=Object.entries(Te);t<e.length;t++){var r=Se(e[t],2),n=r[0];r[1].innerHTML=Ie[n][_e?"mobile":"desktop"]}},render:function(){zt.applyStyles.apply(zt,[{domEl:Te.move,styles:{top:["73%","19%"],left:["22%","75%"],transform:["translate(-50%, -50%)","translate(-50%, -50%)"]}},{domEl:ke[1],styles:{width:["auto","100%"],right:["13%","auto"],top:["50%","auto"],bottom:["auto","13%"],flexDirection:["column","row"],transform:["translateY(-50%)","translate(0)"]}}].concat(we(zt.mapStyles([Te.zoom,Te.fill],{width:["auto","30%"],marginBottom:[_e?"20vh":"3vh","4.5px"],marginTop:["5px","auto"],height:["auto","100%"]})),we(zt.mapStyles(je,{right:["8px","auto"],bottom:["auto","-5px"],transform:["translateX(100%) scale(1.5)","scale(1.5) rotate(90deg)"]})),[{domEl:je[0],styles:{top:[_e?"6%":"20%","auto"],left:["auto","22%"]}},{domEl:je[1],styles:{top:[_e?"56%":"60%","auto"],left:["auto","62%"]}}]))},listenBtn:function(){var t=this;document.getElementById("help-btn").addEventListener("click",(function(){var e="none"!==Ee.style.display?"hide":"show";t[e]()}))},hide:function(){Ce.src="/assets/img/help.svg",[Ee].concat(we(Ae)).forEach((function(t){t.style.display="none"}))},show:function(){Ce.src="assets/img/close.svg",[Ee].concat(we(Ae)).forEach((function(t){t.style.display="block"}))}},Re=/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1,_e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||Re;function Le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Be(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ne=function(){function t(e,r){var n=r.gridState,o=r.playersPositions,i=r.rows,s=r.cols,a=r.ownCells,c=r.allowedCells,u=r.position,l=r.palette;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,"duration",.2),Be(this,"flags",{}),this.socket=e,this.gridState=n,this.playersPositions=o,this.rows=i,this.cols=s,this.ownCells=a,this.allowedCells=c,this.map=new Nt(this),this.player=new xt({position:u,palette:l},this),this.Ui=new $t,this.cell=te,this.cell.clear=this.cell.clear.bind(this),this.cell.renderColor=this.cell.renderColor.bind(this),this.cell.renderAllowedCell=this.cell.renderAllowedCell.bind(this),this.cell.renderPosition=this.cell.renderPosition.bind(this)}var e,r,n;return e=t,r=[{key:"init",value:function(){var t,e,r;this.selectColor(0),this.Ui.focusColorBtn(0),Pe.init(),this.render(),Pe.render(),this.listenWindowEvents(),function(t){var e=t.flags,r=t.Ui;r.colorBtns.forEach((function(r,n){r.style.background=t.player.palette[n],r.addEventListener("mousedown",(function(){t.selectColor(n)})),r.addEventListener("mouseup",(function(){e.isTranslating||e.isZooming||t.fill()})),r.addEventListener("touchstart",(function(e){e.preventDefault(),t.selectColor(n)})),r.addEventListener("touchend",(function(r){r.preventDefault(),e.isTranslating||e.isZooming||t.fill()}))}));for(var n=function(){var e=re(i[o],2),r=e[0],n=e[1];n.addEventListener("click",(function(){t.zoom(r)})),n.addEventListener("touchstart",(function(e){e.preventDefault(),t.zoom(r)}))},o=0,i=Object.entries(r.zoomBtns);o<i.length;o++)n();document.addEventListener("click",(function(){"[object HTMLButtonElement]"==document.activeElement.toString()&&document.activeElement.blur()}))}(this),ie.call(this),e=(t=this).flags,(r=t.map.view).addEventListener("touchstart",(function(t){return le(t,e)}),!1),r.addEventListener("touchmove",(function(r){return fe(r,e,t)}),!1),r.addEventListener("touchend",(function(t){return he(t,e)}),!1),ee.call(this)}},{key:"listenWindowEvents",value:function(){var t=this,e=function(){return t.render()};window.addEventListener("resize",e),window.addEventListener("orientationchange",(function(){setTimeout(e,500)}))}},{key:"render",value:function(){zt.update(),this.Ui.render(),this.map.setView(),this.updateState(),this.map.render(),this.player.render()}},{key:"updateState",value:function(t,e){this.player.updatePosition(t,e),this.flags.isTranslating||this.map.updateCanvasGrid(),this.player.updatePosInView(),this.map.updateCanvasOrigin()}},{key:"moveAttempt",value:function(t){if(!(this.flags.waitingServerConfirmMove||this.flags.isTranslating||this.flags.isZooming)){this.socket.emit("MOVE",t);var e=this.map.checkMove(this.player,t);e?this.movePlayer(e,t):this.player.bump(t)}}},{key:"movePlayer",value:function(t,e){var r=this;this.flags.waitingServerConfirmMove=!0,this.flags.isTranslating=!0,this.updateState(t,e),this.map.translateCanvas({duration:.9*this.duration}),be(this,(function(){r.map.render(),r.flags.isTranslating=!1})),this.player.render()}},{key:"zoom",value:function(t){var e=this;this.flags.isZooming||this.flags.isTranslating||this.map.incrementMainNumCells(t)&&(this.flags.isZooming=!0,this.updateState(),this.map.zoom(),be(this,(function(){e.map.render(),e.flags.isZooming=!1})),this.player.render())}},{key:"selectColor",value:function(t){var e=this.player,r=e.selectedColor,n=e.palette,o="next"==t?1:"prev"==t?n.length-1:null;o&&(t=(n.indexOf(r)+o)%n.length),this.player.setColor(t),this.Ui.focusColorBtn(t)}},{key:"fill",value:function(){var t=this.player.position;if(!this.flags.waitingServerConfirmFill&&!this.flags.fill){this.player.ownCells.includes(t)||this.player.ownCells.push(t),function(t,e){var r=pe(Zt(t,e),2),n=r[0],o=r[1],i=e.flags,s=e.player.selectedColor,a=e.map,c=a.cellSize,u=pe(a.ctx,2)[1];i.fill=!0,ve({x:Math.round(c*n),y:Math.round(c*o),lineWidth:Math.floor(c/8),numSmallStripes:8-c%8,flags:i,ctx:u,cellSize:c,selectedColor:s})}(t,this);var e=this.player.selectedColor.substring(1);this.map.gridState[t]=e,this.socket.emit("FILL",{position:t,color:e}),this.flags.waitingServerConfirmFill=!0,this.player.stamp()}}}],r&&Le(e.prototype,r),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Me={zoom:je[0],fill:je[1]};function De(t){var e=function e(){t.removeListener("CONFIRM_FILL",e),Fe("fill"),setTimeout(r,1e3)},r=function(){ze("move"),t.on("NEW_PLAYER_POSITION",n)},n=function e(){t.removeListener("NEW_PLAYER_POSITION",e),Fe("move"),setTimeout(o,1e3)},o=function(){Pe.show(),ze("zoom"),setTimeout(Ve,3e3)};Ee.style.display="block",setTimeout((function(){ze("fill"),t.on("CONFIRM_FILL",e)}),1e3)}function Ve(){ze("zoom","move","fill"),Pe.hide(),Pe.listenBtn()}var Fe=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){Te[t].style.visibility="hidden",Me[t]&&(Me[t].style.visibility="hidden")}))},ze=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){Te[t].style.visibility="visible",Me[t]&&(Me[t].style.visibility="visible")}))},qe=yt("/game");qe.once("INIT_GAME",(function(t){console.log("INIT_GAME",t),new Ne(qe,t).init();var r=0===t.ownCells.length;console.log("-----------------------------------------"),e[r?"init":"end"](qe)}))})()})();